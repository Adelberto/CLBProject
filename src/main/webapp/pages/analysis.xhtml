<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="template/ui.xhtml">
	<ui:define name="body">
		<ui:include src="./general/menutab.xhtml" />
		<div class="analysisDiv">
			<h:form>
				<p:spacer height="20" />
				<table width="100%" class="analysisDivClass" cellpadding="3">
					<tr>
						<td width="175px" align="left" class="analysisDivClassMainCell"><h:outputLabel
								value="Analysis Menu"></h:outputLabel>
							<hr /></td>
						<td align="right"><p:outputLabel value="Time Frame:"
								for="scaleList"></p:outputLabel> <p:spacer width="5"></p:spacer>
							<p:calendar value="#{analysisBean.analysisDate}"
								styleClass="timeFrame"></p:calendar> <p:spacer width="30"></p:spacer>
							<p:outputLabel value="Scale:" for="scaleList"></p:outputLabel> <p:spacer
								width="5"></p:spacer> <p:selectOneMenu id="scaleList"
								widgetVar="scaleList" value="#{analysisBean.scaleGraphic}">
								<f:selectItems value="#{analysisBean.scalesGraphic}"
									var="analysisScale" itemValue="#{analysisScale}"
									itemLabel="#{analysisScale.label}" />
							</p:selectOneMenu> <p:spacer width="40" /> <p:commandButton
								styleClass="simpleButton" value="Export"
								icon="fa fa-fw fa-file-image-o" type="button">
							</p:commandButton></td>
						<td></td>
					</tr>
					<tr>
						<td valign="top" width="175px"><p:selectOneMenu
								styleClass="selectOneMenuAnalysis"
								value="#{analysisBean.analysisType}">
								<f:selectItems value="#{analysisBean.analysisTypes}"
									var="analysisTyp" itemValue="#{analysisTyp}"
									itemLabel="#{analysisTyp.label}" />
							</p:selectOneMenu> <p:spacer height="20"></p:spacer>
							<p:commandButton value="Measure | Power (kW)"
								icon="fa fa-fw fa-database" styleClass="menuAnalysisButton" />
							<p:spacer height="5"></p:spacer> <p:commandButton value="Saved"
								icon="fa fa-fw fa-save" styleClass="menuAnalysisButton" /></td>
						<td valign="top" align="right"><p:panel
								styleClass="chartPanel">
								<p:outputLabel styleClass="analysisTitle"
									value="#{analysisBean.analyzerSelected.name}"></p:outputLabel>
								<br />
								<p:commandLink value="Change" style="font-size: 10px" oncomplete="PF('selectionPopupAnalyzer').show()"/>
								<p:spacer height="5" />
								<p:chart styleClass="analysisChartCSS" id="chartDayId"
									widgetVar="chartDayId"
									model="#{analysisBean.analysisBarDayPojo.lineModel}"
									type="line" />
							</p:panel></td>
						<td valign="top" width="200px"><p:panel>
								<div align="center">
									<c:choose>
										<c:when test="#{empty analysisBean.buildingSelected}">
											<p:outputLabel value="No Buildings to Select"></p:outputLabel>
										</c:when>
										<c:otherwise>
											<p:graphicImage width="150px" styleClass="buildingImgAnalysis"
												value="#{request.contextPath}/../resources/images/buildings/#{analysisBean.buildingSelected.imgPath}"/>
											<br />
											<b>
											<p:outputLabel styleClass="analysisPanelTitle"
													value="#{analysisBean.buildingSelected.name}"></p:outputLabel></b>
											<br />
											<br/>
											<p:commandButton value="Change"
												oncomplete="PF('selectionPopupBuilding').show()" ajax="true"
												icon="fa fa-fw fa-building" styleClass="simpleButton" />
										</c:otherwise>
									</c:choose>
								</div>
							</p:panel></td>
					</tr>
				</table>
			</h:form>
		</div>
		<ui:include src="./general/footer.xhtml" />
		<ui:include src="./popups/selectionPopupBuilding.xhtml"/>
		<ui:include src="./popups/selectionPopupAnalyzer.xhtml"/>
	</ui:define>
</ui:composition>